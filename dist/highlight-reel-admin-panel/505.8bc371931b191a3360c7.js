"use strict";(self.webpackChunkonebrush_app=self.webpackChunkonebrush_app||[]).push([[505],{2505:(x,l,s)=>{s.r(l),s.d(l,{AddStaffModule:()=>U});var f=s(4655),m=s(8583),a=s(3679),t=s(7716),c=s(9344),h=s(990),g=s(8603),u=s(1095),p=s(6627),Z=s(3738);function _(o,i){1&o&&(t.TgZ(0,"span",18),t._uU(1,"Please Enter First Name"),t.qZA())}function A(o,i){1&o&&(t.TgZ(0,"span",18),t._uU(1,"Please Enter Last Name"),t.qZA())}function S(o,i){1&o&&(t.TgZ(0,"span",18),t._uU(1,"Please Enter Phone Number"),t.qZA())}function b(o,i){1&o&&(t.TgZ(0,"span",18),t._uU(1,"Please Enter email"),t.qZA())}function v(o,i){1&o&&(t.TgZ(0,"span",18),t._uU(1,"Please Enter password"),t.qZA())}function T(o,i){1&o&&(t.TgZ(0,"span",18),t._uU(1,"Please Enter confirmPassword"),t.qZA())}function q(o,i){if(1&o){const r=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){return t.CHM(r),t.oxw().addStaff()}),t._uU(1,"Submit"),t.qZA()}}function C(o,i){if(1&o){const r=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){return t.CHM(r),t.oxw().updateStaffMember()}),t._uU(1,"Update "),t.qZA()}}const N=[{path:"",component:(()=>{class o{constructor(r,e,n,d,w,P){this.toastr=r,this.route=e,this.fb=n,this.router=d,this.threeDService=w,this.authService=P,this.isError=!1,this.addStaffForm=new a.cw({}),this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",this.pageTitle="Add Staff",this.addStaffForm=this.fb.group({first_name:["",a.kI.required],last_name:["",a.kI.required],email:["",[a.kI.required,a.kI.pattern(this.emailPattern)]],password:["",a.kI.required],confirmpassword:["",a.kI.required],phone_number:["",a.kI.required]})}ngOnInit(){this.router.url.includes("add-staff")?this.pageTitle="Add Staff":this.router.url.includes("view-staff")&&(this.pageTitle="View Staff",this.id=this.route.snapshot.queryParamMap.get("id"),this.authService.getStaffById(this.id).subscribe(r=>{console.log(r);let e=r.data;"Data fetched successfully"==r.message?(this.toastr.success(r.message),this.addStaffForm.patchValue({userId:e.userId,first_name:e.firstName,last_name:e.lastName,phone_number:e.phoneNumber,email:e.email})):this.toastr.error(r.message)}))}goBack(){this.router.navigate(["admin/staff"])}get f(){return this.addStaffForm.controls}get officialEmail(){return this.addStaffForm.get("email")}addStaff(){this.addStaffForm.value.password==this.addStaffForm.value.confirmpassword?(console.log(this.addStaffForm.value),this.addStaffForm.invalid?this.isError=!0:(this.threeDService.show(),this.authService.addStaffUser(this.addStaffForm.value).subscribe(n=>{console.log(n),1==n.success?(this.toastr.success(n.message),this.threeDService.hide(),this.router.navigate(["/admin/staff"])):(this.threeDService.hide(),this.toastr.error(n.message))},n=>{this.threeDService.hide(),this.toastr.error("Error Occured."),console.log(JSON.stringify(n))}))):this.toastr.error("Confirm password not matched")}updateStaffMember(){console.log(this.addStaffForm.value),this.authService.updateStaff(this.id,this.addStaffForm.value).subscribe(r=>{console.log(r),"OK"==r.status?(this.threeDService.hide(),this.router.navigate(["/admin/staff"]),this.toastr.success(r.message)):(this.threeDService.hide(),this.toastr.error(r.message))},r=>{this.threeDService.hide(),this.toastr.error("Error Occured.")})}onlyNum(r){let n=String.fromCharCode(r.charCode);/^[0-9]*\.?\d{0,2}$/.test(n)||r.preventDefault()}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(c._W),t.Y36(f.gz),t.Y36(a.qu),t.Y36(f.F0),t.Y36(h.x),t.Y36(g.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-staff"]],decls:58,vars:10,consts:[[1,"mat-new"],[1,"card-heading"],["mat-icon-button","",3,"click"],[1,"sub-menu1"],[1,"top-br"],[3,"formGroup"],[1,"row"],[1,"form-group","col-md-6"],["for","position"],[1,"required"],["id","name","type","text","maxlength","100","formControlName","first_name","placeholder","Name",1,"form-control"],["class","validation_msg",4,"ngIf"],["id","last_name","type","text","maxlength","100","formControlName","last_name","placeholder","Last Name",1,"form-control"],["id","name","type","text","maxlength","100","formControlName","phone_number","maxlength","10","placeholder","Numbers Only",1,"form-control",3,"keypress"],["id","email","type","text","maxlength","100","formControlName","email","placeholder","Email",1,"form-control",3,"pattern"],["id","password","type","password","maxlength","100","formControlName","password","placeholder","Password",1,"form-control"],["id","confirmPassword","type","password","maxlength","100","formControlName","confirmpassword","placeholder","Confirm Password",1,"form-control"],["mat-raised-button","","class","mat-btn",3,"click",4,"ngIf"],[1,"validation_msg"],["mat-raised-button","",1,"mat-btn",3,"click"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"h4",1),t.TgZ(2,"button",2),t.NdJ("click",function(){return e.goBack()}),t.TgZ(3,"mat-icon"),t._uU(4,"chevron_left"),t.qZA(),t.qZA(),t._uU(5," Staff"),t.TgZ(6,"span",3),t._uU(7," > Add Staff "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"mat-card"),t.TgZ(9,"div",4),t.TgZ(10,"form",5),t.TgZ(11,"div",6),t.TgZ(12,"div",7),t.TgZ(13,"label",8),t._uU(14,"First Name"),t.TgZ(15,"span",9),t._uU(16,"*"),t.qZA(),t.qZA(),t._UZ(17,"input",10),t.YNc(18,_,2,0,"span",11),t.qZA(),t.TgZ(19,"div",7),t.TgZ(20,"label",8),t._uU(21,"Last Name"),t.TgZ(22,"span",9),t._uU(23,"*"),t.qZA(),t.qZA(),t._UZ(24,"input",12),t.YNc(25,A,2,0,"span",11),t.qZA(),t.qZA(),t.TgZ(26,"div",6),t.TgZ(27,"div",7),t.TgZ(28,"label",8),t._uU(29,"Phone Number"),t.TgZ(30,"span",9),t._uU(31,"*"),t.qZA(),t.qZA(),t.TgZ(32,"input",13),t.NdJ("keypress",function(d){return e.onlyNum(d)}),t.qZA(),t.YNc(33,S,2,0,"span",11),t.qZA(),t.TgZ(34,"div",7),t.TgZ(35,"label",8),t._uU(36,"Email"),t.TgZ(37,"span",9),t._uU(38,"*"),t.qZA(),t.qZA(),t._UZ(39,"input",14),t.YNc(40,b,2,0,"span",11),t.qZA(),t.qZA(),t.TgZ(41,"div",6),t.TgZ(42,"div",7),t.TgZ(43,"label",8),t._uU(44,"Password"),t.TgZ(45,"span",9),t._uU(46,"*"),t.qZA(),t.qZA(),t._UZ(47,"input",15),t.YNc(48,v,2,0,"span",11),t.qZA(),t.TgZ(49,"div",7),t.TgZ(50,"label",8),t._uU(51,"Confirm Password"),t.TgZ(52,"span",9),t._uU(53,"*"),t.qZA(),t.qZA(),t._UZ(54,"input",16),t.YNc(55,T,2,0,"span",11),t.qZA(),t.qZA(),t.YNc(56,q,2,0,"button",17),t.YNc(57,C,2,0,"button",17),t.qZA(),t.qZA(),t.qZA()),2&r&&(t.xp6(10),t.Q6J("formGroup",e.addStaffForm),t.xp6(8),t.Q6J("ngIf",e.f.first_name.errors&&e.f.first_name.errors.required&&e.isError),t.xp6(7),t.Q6J("ngIf",e.f.last_name.errors&&e.f.last_name.errors.required&&e.isError),t.xp6(8),t.Q6J("ngIf",e.f.phone_number.errors&&e.f.phone_number.errors.required&&e.isError),t.xp6(6),t.Q6J("pattern",e.emailPattern),t.xp6(1),t.Q6J("ngIf",e.f.email.errors&&e.f.email.errors.required&&e.isError),t.xp6(8),t.Q6J("ngIf",e.f.password.errors&&e.f.password.errors.required&&e.isError),t.xp6(7),t.Q6J("ngIf",e.f.password.errors&&e.f.password.errors.required&&e.isError),t.xp6(1),t.Q6J("ngIf",!e.id),t.xp6(1),t.Q6J("ngIf",e.id))},directives:[u.lW,p.Hw,Z.a8,a._Y,a.JL,a.sg,a.Fj,a.nD,a.JJ,a.u,m.O5,a.c5],styles:['h4.card-heading[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-size:16px;letter-spacing:.5px;color:#d85b00;background:#fff;border-radius:3px;font-weight:600}.mat-icon-button[_ngcontent-%COMP%]{padding:0;min-width:0;width:40px;height:40px;background-color:#faebd7;flex-shrink:0;line-height:40px;border-radius:0%}.mat-btn[_ngcontent-%COMP%]{background-color:#fce101;border-color:#fce101;color:#000}.mat-btn[_ngcontent-%COMP%]:hover{background-color:#007bff;border-color:#007bff;color:#fff}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.required[_ngcontent-%COMP%]{color:red}span.validation_msg[_ngcontent-%COMP%]{color:#fd021b;margin-top:10px;font-size:12px}']}),o})()}];let U=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[m.ez,f.Bz.forChild(N),a.u5,a.UX,u.ot,p.Ps]]}),o})()}}]);